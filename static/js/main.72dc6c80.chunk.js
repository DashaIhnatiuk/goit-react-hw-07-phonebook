(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{105:function(t,e,n){"use strict";n.r(e);var c,r,a,o=n(0),s=n.n(o),i=n(11),u=n.n(i),l=n(51),d=n(10),b=n(24),j=n(4),f=n(45),p=n.n(f),O=n(16),h=(n(61),n(6)),m=n(8),x=Object(j.b)("contacts/addContactRequest"),v=Object(j.b)("contacts/addContactSuccess"),_=Object(j.b)("contacts/addContactError"),C={fetchContactsRequest:Object(j.b)("contacts/fetchContactsRequest"),fetchContactsSuccess:Object(j.b)("contacts/fetchContactsSuccess"),fetchContactsError:Object(j.b)("contacts/fetchContactsError"),addContactRequest:x,addContactSuccess:v,addContactError:_,deleteContactRequest:Object(j.b)("contacts/deleteContactRequest"),deleteContactSuccess:Object(j.b)("contacts/deleteContactSuccess"),deleteContactError:Object(j.b)("contacts/deleteContactError"),setFilter:Object(j.b)("contacts/setFilter"),clearError:Object(j.b)("contacts/clearError")},g=[],S="",E=!1,A=null,y=C.fetchContactsRequest,N=C.fetchContactsSuccess,k=C.fetchContactsError,w=C.addContactRequest,F=C.addContactSuccess,M=C.addContactError,R=C.deleteContactRequest,q=C.deleteContactSuccess,L=C.deleteContactError,B=C.setFilter,D=C.clearError,I=Object(j.c)(g,(c={},Object(h.a)(c,N,(function(t,e){return e.payload})),Object(h.a)(c,F,(function(t,e){var n=e.payload;return[].concat(Object(b.a)(t),[n])})),Object(h.a)(c,q,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),c)),T=Object(j.c)(E,(r={},Object(h.a)(r,y,(function(){return!0})),Object(h.a)(r,N,(function(){return!1})),Object(h.a)(r,k,(function(){return!1})),Object(h.a)(r,w,(function(){return!0})),Object(h.a)(r,F,(function(){return!1})),Object(h.a)(r,M,(function(){return!1})),Object(h.a)(r,R,(function(){return!0})),Object(h.a)(r,q,(function(){return!1})),Object(h.a)(r,L,(function(){return!1})),r)),Z=function(t,e){return e.payload},z=Object(j.c)(A,(a={},Object(h.a)(a,k,Z),Object(h.a)(a,M,Z),Object(h.a)(a,L,Z),Object(h.a)(a,D,(function(){return null})),a)),H=Object(j.c)(S,Object(h.a)({},B,(function(t,e){return e.payload}))),J=Object(m.c)({items:I,filter:H,loading:T,error:z}),K=[].concat(Object(b.a)(Object(j.d)({serializableCheck:{ignoredActions:[O.a,O.f,O.b,O.c,O.d,O.e]}})),[p.a]),P=Object(j.a)({reducer:{contacts:J},middleware:K,devTools:!1}),U={store:P,persistor:Object(O.g)(P)},V=(n(64),n(12)),W=n(13),X=n(15),G=n(14),Q=n(32),Y=n.n(Q),$=n(30),tt=n.n($),et=n(46),nt=n.n(et),ct=n(23),rt=function(t){return t.contacts.items},at=function(t){return t.contacts.filter},ot={getLoading:function(t){return t.contacts.loading},getAllContacts:rt,getFilter:at,getError:function(t){return t.contacts.error},getFilteredContacts:Object(ct.a)([rt,at],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))}))},st=n(106),it=n(1),ut=function(t){Object(X.a)(n,t);var e=Object(G.a)(n);function n(){return Object(V.a)(this,n),e.apply(this,arguments)}return Object(W.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.props.error&&setTimeout((function(){t.props.clearError()}),3e3)}},{key:"render",value:function(){return Object(it.jsx)(st.a,{in:!!this.props.message,timeout:250,classNames:tt.a,unmountOnExit:!0,children:Object(it.jsx)("div",{className:nt.a.errorMassage,children:this.props.message})})}}]),n}(o.Component),lt=Object(d.b)((function(t){return{error:ot.getError(t)}}),(function(t){return{clearError:function(){return t(C.clearError())}}}))(ut),dt=n(17),bt=n.n(dt),jt=n(25),ft=n(20),pt=n.n(ft);pt.a.defaults.baseURL="http://localhost:4040";var Ot={fetchContacts:function(){return pt.a.get("/contacts")},addContact:function(t){return pt.a.post("/contacts",t)},deleteContact:function(t){return pt.a.delete("/contacts/".concat(t))}},ht=function(){return function(){var t=Object(jt.a)(bt.a.mark((function t(e){var n,c;return bt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(C.fetchContactsRequest()),t.prev=1,t.next=4,Ot.fetchContacts();case 4:n=t.sent,c=n.data,e(C.fetchContactsSuccess(c)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(C.fetchContactsError(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},mt=function(t,e){return function(){var n=Object(jt.a)(bt.a.mark((function n(c){var r,a,o;return bt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={name:t,number:e},c(C.addContactRequest()),n.prev=2,n.next=5,Ot.addContact(r);case 5:a=n.sent,o=a.data,c(C.addContactSuccess(o)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),c(C.addContactError(n.t0));case 13:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(t){return n.apply(this,arguments)}}()},xt=function(t){return function(){var e=Object(jt.a)(bt.a.mark((function e(n){return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(C.deleteContactRequest()),e.prev=1,e.next=4,Ot.deleteContact(t);case 4:n(C.deleteContactSuccess(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n(C.deleteContactError(e.t0));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},vt=function(t){Object(X.a)(n,t);var e=Object(G.a)(n);function n(){var t;Object(V.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))).state={name:"",number:"",error:!1,errorMessage:null},t.handleInput=function(e){var n=e.target,c=n.name,r=n.value;t.setState(Object(h.a)({},c,r))},t.handleSubmit=function(e){e.preventDefault();var n=t.state,c=n.name,r=n.number,a=t.props.contacts;return c?r?a.some((function(t){return t.name===c}))?(t.setState({error:!0,errorMessage:"Contact already exists"}),setTimeout((function(){t.setState({error:!1})}),3e3),void t.resetData()):(t.props.onAddContact(c,r),void t.resetData()):(t.setState({error:!0,errorMessage:"Enter number please"}),void setTimeout((function(){t.setState({error:!1})}),3e3)):(t.setState({error:!0,errorMessage:"Enter name please"}),void setTimeout((function(){t.setState({error:!1})}),3e3))},t}return Object(W.a)(n,[{key:"resetData",value:function(){this.setState({name:"",number:""})}},{key:"render",value:function(){var t=this.state,e=t.name,n=t.number,c=t.errorMessage;return Object(it.jsxs)("div",{className:Y.a.container,children:[Object(it.jsx)(lt,{message:c}),Object(it.jsx)("p",{children:"Name"}),Object(it.jsx)("input",{type:"text",placeholder:"Enter contact name",name:"name",value:e,onChange:this.handleInput}),Object(it.jsx)("p",{children:"Number"}),Object(it.jsx)("input",{type:"text",placeholder:"Enter phone number",name:"number",value:n,onChange:this.handleInput}),Object(it.jsx)("button",{className:Y.a.addBtn,onClick:this.handleSubmit,children:"Add contact"})]})}}]),n}(o.Component),_t=Object(d.b)((function(t){return{contacts:ot.getAllContacts(t)}}),(function(t){return{onAddContact:function(e,n){return t(mt(e,n))}}}))(vt),Ct=n(21),gt=n.n(Ct),St=n(107),Et=n(47),At=n.n(Et);var yt=Object(d.b)((function(t){return{contacts:ot.getFilteredContacts(t)}}),(function(t){return{onDeleteContact:function(e){return t(xt(e))}}}))((function(t){var e=t.contacts,n=t.onDeleteContact;return Object(it.jsx)(St.a,{component:"ul",className:gt.a.ulSection,children:e.map((function(t){var e=t.id,c=t.name,r=t.number;return Object(it.jsx)(st.a,{timeout:250,classNames:At.a,children:Object(it.jsxs)("li",{className:gt.a.liItem,children:[Object(it.jsxs)("p",{class:gt.a.text,children:[c," : ",r]}),Object(it.jsx)("button",{className:gt.a.deleteBtn,onClick:function(){n(e)},children:"Delete"})]},e)},e)}))})}));var Nt=Object(d.b)((function(t){return{value:ot.getFilter(t)}}),(function(t){return{onChangeFilter:function(e){return t(C.setFilter(e.currentTarget.value))}}}))((function(t){var e=t.value,n=t.onChangeFilter;return Object(it.jsxs)("div",{children:[Object(it.jsx)("p",{children:"Find contacts by name"}),Object(it.jsx)("input",{type:"text",placeholder:"Enter contact name",name:"filter",value:e,onChange:n})]})})),kt=n(48),wt=n.n(kt),Ft=(n(103),n(49)),Mt=n.n(Ft),Rt=function(t){Object(X.a)(n,t);var e=Object(G.a)(n);function n(){var t;Object(V.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))).state={},t}return Object(W.a)(n,[{key:"render",value:function(){return Object(it.jsx)("div",{className:Mt.a.loader,children:Object(it.jsx)(wt.a,{type:"TailSpin",color:"#39a763",height:80,width:80})})}}]),n}(o.Component),qt=n(50),Lt=n.n(qt),Bt=n(33),Dt=n.n(Bt),It=function(t){Object(X.a)(n,t);var e=Object(G.a)(n);function n(){return Object(V.a)(this,n),e.apply(this,arguments)}return Object(W.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){var t=this.props,e=t.contacts,n=t.error,c=t.clearFilter,r=t.isLoading;return Object(it.jsxs)("div",{className:"container",children:[n&&Object(it.jsx)(lt,{message:n.message}),Object(it.jsx)(st.a,{in:!0,timeout:500,classNames:Lt.a,appear:!0,children:Object(it.jsx)("h1",{className:"title",children:"Phonebook"})}),Object(it.jsx)(_t,{}),Object(it.jsx)(st.a,{in:e.length>1,timeout:250,classNames:Dt.a,unmountOnExit:!0,onExiting:function(){return c()},children:Object(it.jsx)(Nt,{})}),Object(it.jsx)(st.a,{in:e.length>0,appear:!0,timeout:250,classNames:Dt.a,unmountOnExit:!0,children:Object(it.jsxs)("div",{children:[Object(it.jsx)("h2",{className:"title",children:"Contacts"}),r&&Object(it.jsx)(Rt,{}),Object(it.jsx)(yt,{})]})})]})}}]),n}(o.Component),Tt=Object(d.b)((function(t){return{contacts:ot.getAllContacts(t),isLoading:ot.getLoading(t),error:ot.getError(t)}}),(function(t){return{fetchContacts:function(){return t(ht())},clearFilter:function(){return t(C.setFilter(""))}}}))(It);u.a.render(Object(it.jsx)(s.a.StrictMode,{children:Object(it.jsx)(d.a,{store:U.store,children:Object(it.jsx)(l.a,{children:Object(it.jsx)(Tt,{})})})}),document.getElementById("root"))},21:function(t,e,n){t.exports={deleteBtn:"OutputSection_deleteBtn__zWMBw",ulSection:"OutputSection_ulSection__SdXWP",liItem:"OutputSection_liItem__2IZjS",text:"OutputSection_text__1pgVl"}},30:function(t,e,n){t.exports={enter:"alert_enter__3tyVS",enterActive:"alert_enterActive__1axmQ",exit:"alert_exit__2a1bU",exitActive:"alert_exitActive__Y2ExL"}},32:function(t,e,n){t.exports={container:"AddSection_container__3GNFA",addBtn:"AddSection_addBtn__3bnzF"}},33:function(t,e,n){t.exports={enter:"pop_enter__14cBZ",enterActive:"pop_enterActive__2OLna",exit:"pop_exit__O6kMm",exitActive:"pop_exitActive__16ZIx"}},46:function(t,e,n){t.exports={errorMassage:"Notification_errorMassage__aTNbK",enter:"Notification_enter__mKRMe",enterActive:"Notification_enterActive__3MSZZ",exit:"Notification_exit__2wp-q",exitActive:"Notification_exitActive__2_cjC"}},47:function(t,e,n){t.exports={enter:"slide_enter___vX1j",enterActive:"slide_enterActive__1s7E1",exit:"slide_exit__27jRg",exitActive:"slide_exitActive__3bCHj"}},49:function(t,e,n){t.exports={loader:"Loader_loader__3jmHc"}},50:function(t,e,n){t.exports={appear:"title_appear__2rb7T",appearActive:"title_appearActive__ZzMs5"}},64:function(t,e,n){}},[[105,1,2]]]);
//# sourceMappingURL=main.72dc6c80.chunk.js.map